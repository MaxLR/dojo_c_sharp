@* 
    @model lower m to specify the TYPE of data that is being used for the ViewModel
    @Model capital m is used to access the DATA inside of the object passed into the page
*@


@model List<Post>

@Context.Session.GetInt32("UUID")

<partial name="_Logout"></partial>

<h1>All Posts</h1>

@foreach (Post post in Model)
{
    <h3>@post.Topic</h3>
    <br>
    <p>@post.Body</p>

    if (post.ImgUrl != null)
    {
        <img src="@post.ImgUrl"/>
    }

    <p>Created by: @post.Author.Username</p>

    @* asp-route-paramName=@paramValue: paramName can be whatever you want
        but it NEEDS to match up w/ parameters in route & method in the controller
    *@
    <a
    asp-controller="Posts"
    asp-action="Details"
    asp-route-postID="@post.PostId"
    >
    View Details
    </a>
}


@{
    Post newPost = new Post();
}
<partial name="_New" model="@newPost"></partial>